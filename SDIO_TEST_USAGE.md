/*
 * SDIO测试功能使用说明 - 更新版
 * 
 * 这个模块提供了完整的SDIO写入测试和日志记录功能：
 * 1. 测试SD卡的写入能力
 * 2. 验证数据完整性
 * 3. 将测试结果和错误日志保存到内部Flash（作为U盘文件）
 * 4. 通过LED指示测试状态
 * 5. 创建真实的日志文件供PC端查看
 * 
 * LED指示说明：
 * - LED2: 读写操作指示（亮起=操作中，闪烁=失败，长亮=错误状态）
 * - LED3: SD卡容量指示（闪烁次数表示容量范围）
 * - LED4: 日志写入指示（短暂闪烁=写入成功，快速闪烁=写入失败）
 * - LED5: 测试状态指示（亮起=测试中，闪烁=测试结果）
 * 
 * 日志文件系统：
 * - 日志存储在内部Flash的第100-119个512字节块中（总共10KB）
 * - 当日志空间满时，会自动从头开始覆盖旧日志
 * - 日志文件包含时间戳和详细的错误信息
 * - PC连接后可以在U盘中看到日志文件
 * 
 * 在main.c中的使用方法：
 * 
 * ```c
 * #include "usbd_sdcard_access.h"
 * 
 * int main(void)
 * {
 *     // ... 其他初始化代码 ...
 *     
 *     // 初始化SDIO测试模块
 *     sdio_test_init();
 *     
 *     while(1) {
 *         // ... USB处理代码 ...
 *         
 *         // 定期运行SDIO测试（例如每5秒一次）
 *         static uint32_t last_test_time = 0;
 *         uint32_t current_time = get_tick_count(); // 需要实现时间获取函数
 *         
 *         if(current_time - last_test_time > 5000) { // 5秒间隔
 *             sdio_test_run_periodic();
 *             last_test_time = current_time;
 *         }
 *         
 *         // 或者在按键触发时运行测试
 *         // if(button_pressed()) {
 *         //     uint32_t result = sdio_write_test_and_log();
 *         //     if(result != 0) {
 *         //         // 处理测试失败情况
 *         //     }
 *         // }
 *     }
 * }
 * ```
 * 
 * 功能特性：
 * 1. 自动创建日志文件头
 * 2. 实时日志记录到内部Flash
 * 3. 智能的日志空间管理
 * 4. 详细的LED状态指示
 * 5. 完整的错误处理机制
 * 
 * 测试流程：
 * 1. 准备512字节测试数据
 * 2. 写入到SD卡指定地址
 * 3. 读取并验证数据完整性
 * 4. 记录测试结果到日志文件
 * 5. 通过LED显示测试状态
 * 
 * 故障排除：
 * - 如果LED2长亮：说明日志文件创建失败或SD卡写入失败
 * - 如果LED4快速闪烁：说明日志写入到Flash失败
 * - 如果LED5快速闪烁：说明SDIO测试失败
 * 
 * 注意事项：
 * 1. 确保SD卡已正确初始化
 * 2. 测试地址为0x1000（第8个扇区），请确保不与重要数据冲突
 * 3. 日志文件占用内部Flash第100-119块，请确保这些区域可用
 * 4. 建议在系统稳定运行后再启用定期测试
 */
